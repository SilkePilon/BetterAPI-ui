import{L as l,G as m,_ as y,p as g,k as b,b as w}from"./q-babceb26.js";import{u as _}from"./q-56ff0b97.js";const h=()=>{const n=_();return new URLSearchParams(n.url.search).get("utm_source")&&l(m(()=>y(()=>Promise.resolve().then(()=>E),void 0),"s_LDwMkWXtpMk"),{strategy:"document-ready"}),g(b,null,3,"nC_0")},f=typeof Blob<"u"&&typeof navigator<"u"&&typeof navigator.sendBeacon=="function",k=(n,e)=>{if(!f)return!1;const c=new Blob([JSON.stringify({beacon:e})],{type:"application/json; charset=UTF-8"});try{return navigator.sendBeacon(n,c)}catch{return!1}};let s;const U=new Uint8Array(16);function v(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(U)}const t=[];for(let n=0;n<256;++n)t.push((n+256).toString(16).slice(1));function I(n,e=0){return(t[n[e+0]]+t[n[e+1]]+t[n[e+2]]+t[n[e+3]]+"-"+t[n[e+4]]+t[n[e+5]]+"-"+t[n[e+6]]+t[n[e+7]]+"-"+t[n[e+8]]+t[n[e+9]]+"-"+t[n[e+10]]+t[n[e+11]]+t[n[e+12]]+t[n[e+13]]+t[n[e+14]]+t[n[e+15]]).toLowerCase()}const D=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),d={randomUUID:D};function L(n,e,c){if(d.randomUUID&&!e&&!n)return d.randomUUID();n=n||{};const o=n.random||(n.rng||v)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){c=c||0;for(let i=0;i<16;++i)e[c+i]=o[i];return e}return I(o)}const u="anonymous-id",r=typeof window<"u"?window.localStorage:void 0,P=()=>{let n=r==null?void 0:r.getItem(u);return n||(n=L(),r==null||r.setItem(u,n)),n},S=()=>{const n={};return typeof document>"u"||document.cookie.split(";").forEach(e=>{const[c,o]=e.split("=");n[c.trim()]=o}),n},R=()=>{const n=S(),{_fbc:e,_fbp:c}=n;let o,i;const a=new URL(window.location.href).searchParams.get("fbclid"),p=new Date().getTime();return a?o=`fb.1.${p}.${a}`:e&&(o=e),c&&(i=c),{fbp:i,fbc:o}},x=async(n={})=>{const c={event:"page",anonymousId:P(),properties:n};k("/api/beacon/page",c)},B=()=>{const n=window.location.href,e=window.location.pathname,{title:c}=window.document,{referrer:o}=window.document,i=R();x({url:n,path:e,title:c,referrer:o,...i})},C=B,E=Object.freeze(Object.defineProperty({__proto__:null,_hW:w,s_Fgy3CNy7aHM:h,s_LDwMkWXtpMk:C},Symbol.toStringTag,{value:"Module"}));export{w as _hW,h as s_Fgy3CNy7aHM,C as s_LDwMkWXtpMk};
